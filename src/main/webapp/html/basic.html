<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/main.css" />
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<!-- jQuery 선언 -->
<script src="../js/main.js"></script>
<script>
window.onload = function() {
	 
    //1.Ajax 요청 객체 생성
    var request;
    if (window.XMLHttpRequest) {
        request = new XMLHttpRequest;
    } else {
        request = new ActiveXObject('microsoft.XMLHTTP');
    }

    //2.Ajax 요청
    request.open("GET","/WEBTest/xml/books.xml");
    request.send();
    //준비상태가 바뀌면
    

    request.onreadystatechange = function() {
        
            if (request.readyState == 4 && request.status == 200) {
                var xml = request.responseXML;
                //xml의 모든 데이터 가져옴
                //요청하는게 xml이면 responseXML 일반텍스트면 response
                var names = xml.getElementsByTagName("name");
                //태그 이름이 "name"인 시작 위치를 저장, 태그 이름과 데이터는 저장하지 않은 상태
                var author1 = xml.getElementsByTagName("author");
                //태그 이름이 "author"인 시작 위치를 저장, 태그 이름과 데이터는 저장하지 않은 상태
                var name = names[0].childNodes[0].nodeValue;
                //0번째 <name>태그 주소의 0번째 자식 노드의 값
                var author = author1[0].childNodes[0].nodeValue;
                //0번째 <author>태그 주소의 0번째 자식 노드의 값
                var name2 = names[1].childNodes[0].nodeValue;
                //1번째 <name>태그 주소의 0번째 자식 노드의 값
                var author2 = author1[1].childNodes[0].nodeValue;
              	//1번째 <author>태그 주소의 0번째 자식 노드의 값
                document.getElementById("book1_name").innerHTML = name;
              	//book1_name이란 ID를 가진 태그의 텍스트값 = name
                document.getElementById("book1_author").innerHTML = author;
              	//book1_author이란 ID를 가진 태그의 텍스트값 = author
                document.getElementById("book2_name").innerHTML = name2;
              	//book2_name이란 ID를 가진 태그의 텍스트값 = name2
                document.getElementById("book2_author").innerHTML = author2;
				//book2_author이란 ID를 가진 태그의 텍스트값 = author2



            }
        }
    }


</script>
</head>
<body>
	<div>
		<p id="xmlPara">
			[책1]<br />
			제목 : <span id ="book1_name" ></span><br />
			저자 : <span id = "book1_author"></span><br />
			[책2]<br />
			제목 : <span id ="book2_name"></span><br />
			저자 : <span id = "book2_author"></span><br />
					</p>
		<p id ="jsonPara"></p>
	</div>
	
<!-- 	<script> -->
<!-- // 		$("#book1_name").load("/WEBTest/xml/books.xml name") -->
<!-- 	</script> -->

	<!-- 	<div> -->
	<!-- 		<p>hello html!</p> -->
	<!-- 		<p> -->
	<!-- 			<img src="/WEBTest/images/1.png" /> -->
	<!-- 			<!-- 절대경로 -->
	<!-- 			<img src="../images/1.png"> -->
	<!-- 			<!-- 상대경로 -->
	<!-- 		</p> -->
	<!-- 	</div> -->
</body>
</html>